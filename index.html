<!doctype html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title id="pageTitle">Karthik â€” Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <meta name="description" content="Portfolio website for Karthik. B.Tech AI & DS student." />
    <!-- Chatbase trained bot identifiers (fallback hooks for different embed variants) -->
    <meta name="chatbase-chatbot-id" content="E6STcuZmzvVkcTWQDwNLu" />
    <meta name="chatbase-bot-id" content="E6STcuZmzvVkcTWQDwNLu" />
    <meta name="chatbase-agent-id" content="E6STcuZmzvVkcTWQDwNLu" />
    <script id="chatbase-config" type="application/json">{"chatbotId":"E6STcuZmzvVkcTWQDwNLu","botId":"E6STcuZmzvVkcTWQDwNLu","agentId":"E6STcuZmzvVkcTWQDwNLu"}</script>
    <style>
      @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-20px); } }
      @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes glow { 0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.5); } 50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.8); } }
      .float { animation: float 3s ease-in-out infinite; }
      .fade-up { animation: fadeInUp 0.8s ease-out forwards; }
      .glow-effect { animation: glow 2s ease-in-out infinite; }
      .glass { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); }
      body { font-family: 'Segoe UI', Trebuchet MS, sans-serif; }
    </style>
  </head>
  <body class="bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 text-white">
    <!-- Navigation -->
    <nav class="fixed w-full top-0 z-50 glass border-b border-slate-700/30">
      <div class="max-w-6xl mx-auto px-6 py-4 flex justify-between items-center">
        <div class="text-2xl font-bold bg-gradient-to-r from-indigo-400 to-purple-500 bg-clip-text text-transparent">
          <span id="navName">Karthik</span>
        </div>
        <div class="hidden md:flex gap-8">
          <a href="index.html" class="text-indigo-400 font-semibold">Home</a>
          <a href="about.html" class="hover:text-indigo-400 transition">About</a>
          <a href="projects.html" class="hover:text-indigo-400 transition">Projects</a>
          <a href="experience.html" class="hover:text-indigo-400 transition">Experience</a>
          <a href="contact.html" class="hover:text-indigo-400 transition">Contact</a>
        </div>
        <button id="mobileMenuBtn" class="md:hidden text-2xl"><i class="fas fa-bars"></i></button>
      </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="fixed inset-0 bg-slate-950/95 z-40 hidden flex flex-col items-center justify-center gap-6 pt-20 md:hidden">
      <a href="index.html" class="text-xl text-indigo-400 font-semibold" onclick="closeMobileMenu()">Home</a>
      <a href="about.html" class="text-xl hover:text-indigo-400 transition" onclick="closeMobileMenu()">About</a>
      <a href="projects.html" class="text-xl hover:text-indigo-400 transition" onclick="closeMobileMenu()">Projects</a>
      <a href="experience.html" class="text-xl hover:text-indigo-400 transition" onclick="closeMobileMenu()">Experience</a>
      <a href="contact.html" class="text-xl hover:text-indigo-400 transition" onclick="closeMobileMenu()">Contact</a>
    </div>

    <main>
      <!-- Hero Section -->
      <section class="min-h-screen pt-24 px-6 flex items-center justify-center relative overflow-hidden">
        <div class="absolute top-20 right-10 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl"></div>
        <div class="absolute bottom-10 left-10 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl"></div>
        
        <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-12 items-center relative z-10">
          <div class="fade-up space-y-6">
            <h1 id="heroName" class="text-5xl md:text-7xl font-bold bg-gradient-to-r from-indigo-300 via-purple-300 to-indigo-300 bg-clip-text text-transparent">
              Karthik
            </h1>
            <p id="heroTitle" class="text-2xl md:text-3xl text-slate-300 font-light">AI & Data Science Student</p>
            <p id="heroSummary" class="text-lg text-slate-400 max-w-xl leading-relaxed">
              B.Tech student learning applied AI/ML and software development. Building projects and prototypes as part of coursework and hackathons.
            </p>
            <div class="flex gap-4 pt-4">
              <button id="viewResumeImageBtn" class="px-8 py-3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg font-semibold hover:shadow-lg hover:shadow-indigo-500/50 transition transform hover:scale-105">
                <i class="fas fa-eye mr-2"></i>View Resume
              </button>
              <a id="downloadResumeBtn" href="assets/resume.pdf" download class="px-8 py-3 border border-indigo-400 rounded-lg font-semibold hover:bg-indigo-400/10 transition">
                <i class="fas fa-download mr-2"></i>Download Resume
              </a>
              <button onclick="document.getElementById('chatbot').scrollIntoView({ behavior: 'smooth' })" class="px-8 py-3 border border-purple-400 rounded-lg font-semibold hover:bg-purple-400/10 transition">
                <i class="fas fa-comments mr-2"></i>Let's Chat
              </button>
            </div>
          </div>
          <div class="float relative">
              <div class="w-full h-96 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-2xl glass p-6 flex items-center justify-center overflow-hidden">
              <img id="avatarImg" src="assets/avatar.svg" alt="Karthik" class="w-full h-full object-cover rounded-xl shadow-2xl shadow-indigo-500/50" />
            </div>
          </div>
        </div>
      </section>

      <!-- About Section -->
      <section id="about" class="py-20 px-6 bg-gradient-to-b from-slate-900 to-slate-950 relative">
        <div class="max-w-6xl mx-auto">
          <h2 class="text-4xl font-bold mb-12 text-center bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent">About Me</h2>
          <div class="grid md:grid-cols-2 gap-12">
            <div class="glass p-8 rounded-2xl">
              <p id="aboutText" class="text-slate-300 leading-relaxed text-lg mb-6">
                I'm a passionate full-stack developer with a keen eye for detail and a drive to create exceptional digital experiences. With expertise across modern web technologies, I help bring ideas to life.
              </p>
              <p class="text-slate-400">Proficient in building scalable applications, APIs, and tools that solve real-world problems.</p>
            </div>
            <div class="glass p-8 rounded-2xl">
              <h3 class="text-2xl font-semibold mb-6 text-indigo-300">Skills</h3>
              <div id="skillsList" class="flex flex-wrap gap-3"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Projects Section -->
      <section id="projects" class="py-20 px-6">
        <div class="max-w-6xl mx-auto">
          <h2 class="text-4xl font-bold mb-12 text-center bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent">Projects</h2>
          <div id="projectsGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </div>
      </section>

      <!-- Experience Section -->
      <section id="experience" class="py-20 px-6 bg-gradient-to-b from-slate-900 to-slate-950">
        <div class="max-w-6xl mx-auto">
          <h2 class="text-4xl font-bold mb-12 text-center bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent">Experience</h2>
          <div id="experienceList" class="space-y-6"></div>
        </div>
      </section>

      <!-- Education Section -->
      <section id="education" class="py-20 px-6">
        <div class="max-w-6xl mx-auto">
          <h2 class="text-4xl font-bold mb-12 text-center bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent">Education</h2>
          <div id="educationList" class="grid md:grid-cols-2 gap-6"></div>
        </div>
      </section>

      <!-- Chatbot Section -->
      <section id="chatbot" class="py-20 px-6 bg-gradient-to-b from-slate-900 to-slate-950 relative">
        <div class="absolute top-0 right-0 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl -z-0"></div>
        <div class="max-w-6xl mx-auto relative z-10">
          <h2 class="text-4xl font-bold mb-12 text-center bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent">Let's Talk</h2>
          <div class="glass rounded-2xl p-8 max-w-2xl mx-auto">
            <p class="text-slate-300 mb-6 text-center">Have questions? Chat with my AI-powered assistant!</p>
            <div id="chatbaseWidget" style="height: 600px; border-radius: 12px; overflow: hidden;">
              <!-- Chatbase will load here, or fallback will be shown -->
            </div>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="py-20 px-6">
        <div class="max-w-4xl mx-auto">
          <h2 class="text-4xl font-bold mb-12 text-center bg-gradient-to-r from-indigo-300 to-purple-300 bg-clip-text text-transparent">Get In Touch</h2>
          <div class="glass rounded-2xl p-8 md:p-12 text-center">
            <p class="text-slate-300 mb-8 text-lg">Ready to start a project? Reach out and let's create something amazing together.</p>
            <div class="space-y-4 mb-8">
              <p><strong class="text-indigo-300">Email:</strong> <a id="emailLink" href="mailto:hello@example.com" class="text-slate-300 hover:text-indigo-400 transition">hello@example.com</a></p>
              <div class="flex justify-center gap-6 pt-4">
                <a href="#" class="text-2xl text-slate-400 hover:text-indigo-400 transition"><i class="fab fa-linkedin"></i></a>
                <a href="#" class="text-2xl text-slate-400 hover:text-indigo-400 transition"><i class="fab fa-github"></i></a>
                <a href="#" class="text-2xl text-slate-400 hover:text-indigo-400 transition"><i class="fab fa-twitter"></i></a>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="py-8 px-6 border-t border-slate-700/30 text-center text-slate-400">
      <p>&copy; 2025 <span id="footerName">Karthik</span>. Built with passion and Tailwind CSS.</p>
    </footer>

    <!-- Resume Modal -->
    <div id="resumeModal" class="fixed inset-0 bg-black/70 z-50 hidden flex items-center justify-center p-4">
      <div class="bg-slate-900 rounded-2xl w-full max-w-4xl max-h-screen overflow-auto border border-indigo-500/30">
        <div class="sticky top-0 bg-slate-950 border-b border-indigo-500/30 p-4 flex justify-between items-center">
          <h2 class="text-2xl font-bold text-indigo-300">My Resume</h2>
          <div class="flex gap-3">
            <a id="downloadResumeLink" href="assets/resume.pdf" download class="px-4 py-2 bg-indigo-500 hover:bg-indigo-600 rounded-lg transition">
              <i class="fas fa-download mr-2"></i>Download
            </a>
            <button onclick="closeResumeModal()" class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition">
              <i class="fas fa-times mr-2"></i>Close
            </button>
          </div>
        </div>
        <div class="p-6">
          <div id="resumeContent">
            <embed id="resumeEmbed" src="assets/resume.pdf" type="application/pdf" width="100%" height="600px" style="display:block;" />
            <img id="resumeImg" src="assets/resume.jpg" alt="Resume" style="width:100%;height:600px;object-fit:contain;display:none;" />
            <div id="resumeMissing" class="text-center text-slate-400" style="display:none;">Resume file not found. Please download the PDF from the button above.</div>
          </div>
        </div>
      </div>
    </div>

    <script>
      function closeResumeModal() {
        document.getElementById('resumeModal').classList.add('hidden');
      }
      
      document.getElementById('viewResumeImageBtn')?.addEventListener('click', (e) => {
        e.preventDefault();
        document.getElementById('resumeModal').classList.remove('hidden');
      });
      
      document.getElementById('resumeModal')?.addEventListener('click', (e) => {
        if (e.target.id === 'resumeModal') closeResumeModal();
      });
    </script>

    <!-- Chatbase Widget Script - Multiple CDN fallback with Iframe -->
    <script>
      // Provide the trained chatbot ID using multiple common keys to improve compatibility
      window.embeddedChatbotConfig = {
        chatbotId: "E6STcuZmzvVkcTWQDwNLu",
        botId: "E6STcuZmzvVkcTWQDwNLu",
        agentId: "E6STcuZmzvVkcTWQDwNLu",
        domain: "www.chatbase.co"
      };

      // Also set some global aliases that different widget versions may check
      window.chatbotId = window.embeddedChatbotConfig.chatbotId;
      window.botId = window.embeddedChatbotConfig.botId;
      window.agentId = window.embeddedChatbotConfig.agentId;
      
      var chatbaseLoaded = false;
      
      // Function to load Chatbase with multiple fallback options
      function initializeChatbase() {
        var urls = [
          "https://cdn.chatbase.co/embed.min.js",
          "https://web.chatbase.co/embed.js",
          "https://www.chatbase.co/embed.js",
          "https://cdn.chatbase.co/widget.js"
        ];
        
        var urlIndex = 0;
        
        function loadNextUrl() {
          if (urlIndex >= urls.length) {
            console.warn('All Chatbase CDN URLs failed, trying iframe fallback');
            setTimeout(loadChatbaseIframe, 1000);
            return;
          }
          
          var d = document;
          var s = d.createElement("script");
          s.type = "text/javascript";
          s.async = true;
          s.src = urls[urlIndex];
          
          s.onerror = function() {
            console.log('Failed to load Chatbase from ' + urls[urlIndex]);
            urlIndex++;
            loadNextUrl();
          };
          
          s.onload = function() {
            console.log('Chatbase loaded successfully from ' + urls[urlIndex]);
            chatbaseLoaded = true;
          };
          
          d.head.appendChild(s);
        }
        
        loadNextUrl();
        
        // Set a timeout to try iframe fallback if nothing loaded
        setTimeout(function() {
          if (!chatbaseLoaded) {
            console.warn('Chatbase widget not loaded after 3 seconds, trying iframe fallback');
            loadChatbaseIframe();
          }
        }, 3000);
      }
      
      // Fallback: Load Chatbase using iframe
      function loadChatbaseIframe() {
        console.log('Loading Chatbase iframe fallback');
        var container = document.getElementById('chatbaseWidget');
          if (container && container.children.length === 0) {
            // Build iframe src with multiple query params to support different Chatbase URL formats
            const id = encodeURIComponent(window.embeddedChatbotConfig?.chatbotId || '');
            const params = new URLSearchParams();
            if (id) {
              params.set('chatbotId', id);
              params.set('botId', id);
              params.set('agentId', id);
              params.set('id', id);
            }
            const src = `https://www.chatbase.co/chat?${params.toString()}`;
            container.innerHTML = `<iframe src="${src}" width="100%" height="100%" style="border: none; border-radius: 12px;"></iframe>`;
            // Add dataset attributes on container for any script that inspects DOM
            container.dataset.chatbotId = window.embeddedChatbotConfig?.chatbotId || '';
            container.dataset.botId = window.embeddedChatbotConfig?.botId || '';
            container.dataset.agentId = window.embeddedChatbotConfig?.agentId || '';
      }
      
      // Start initialization when document is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeChatbase);
      } else {
        initializeChatbase();
      }
    </script>

    <script src="script.js"></script>
  </body>
</html>
